<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.edu.ability.dao.GraduateRequireDao">

    <resultMap type="net.edu.module.entity.GraduateRequireEntity" id="certifyGraduateMap">
        <result property="id" column="id"/>
        <result property="createTime" column="create_time"/>
        <result property="updateTime" column="update_time"/>
        <result property="creator" column="creator"/>
        <result property="updater" column="updater"/>
        <result property="version" column="version"/>
        <result property="title" column="title"/>
        <result property="content" column="content"/>
        <result property="major" column="major"/>
        <result property="college" column="college"/>
        <result property="school" column="school"/>
        <result property="deleted" column="deleted"/>
    </resultMap>


    <select id="selectGraduateRequireByPage" resultType="net.edu.module.vo.GraduateRequireVO">
        select
            id,
            title,
            content,
            major,
            college,
            school
        from archive_graduate_require
        where deleted = 0
        <if test="query.getTitle() !=null and query.getTitle()!=''">
            and title like concat('%',#{query.title},'%')
        </if>
        <if test="query.getMajor() !=null and query.getMajor()!=''">
            and major like concat('%',#{query.major},'%')
        </if>
        <if test="query.getCollege() !=null and query.getCollege()!=''">
            and college like concat('%',#{query.college},'%')
        </if>
        <if test="query.getSchool() !=null and query.getSchool()!=''">
            and school like concat('%',#{query.school},'%')
        </if>
        order by update_time desc
    </select>
</mapper>
